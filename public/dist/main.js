!function(){var e,t,s=0,n=0,i=0,o=!1,a=0,l=[.43,.49,.529,.587,.634,.7],r=[{type:"sticky",heightNum:6,scrollHeight:0,objs:{container:document.querySelector("#scroll-section-0"),ribbonPath:document.querySelector(".ribbon1-path path"),messageB:document.querySelector("#scroll-section-0 .main-message.first"),svg1:document.querySelector(".svgtest"),nav:document.querySelector(".local-nav"),svg:document.querySelector(".ribbon1-path svg"),testimg:document.querySelector(".testimg"),eraser:document.querySelector(".testimgwrap:nth-child(2) .testimg"),bookwrap:document.querySelector(".bookwrap"),book:document.querySelector(".book"),movebook:document.querySelector(".book .movebook"),svgtext:document.querySelector(".bookwrap svg text")},values:{messageB_opacity_in:[0,1,{start:.55,end:.65}],messageB_opacity_out:[1,0,{start:.75,end:.85}],testimg_opacity:[0,1,{start:.3,end:.39}],eraser_opacity:[0,1,{start:.6,end:.7}],path_dashoffset_in:[0,0,{start:.4,end:.7}],path_dashoffset_out:[0,0,{start:.73,end:.95}],book_rotate:[61,0,{start:0,end:.3}],book_translateY:[0,-100,{start:.3,end:.4}],hi_opacity:[0,1,{start:.15,end:.3}],hi_opacity_b:[1,0,{start:.15,end:.3}],hi_dashoffset:[25,-25,{start:0,end:.3}],hi_dasharray_50:[50,0,{start:0,end:.3}],hi_dasharray_100:[0,50,{start:0,end:.3}],hi_fill_50_a:[255,16,{start:.15,end:.3}],hi_fill_50_b:[255,152,{start:.15,end:.3}],hi_fill_50_c:[255,173,{start:.15,end:.3}]}},{type:"sticky",heightNum:12,scrollHeight:0,objs:{container:document.querySelector("#scroll-section-1"),content:document.querySelector("#scroll-section-1 .description"),messageA:document.querySelector("#scroll-section-1 .main-message.a"),messageB:document.querySelector("#scroll-section-1 .main-message.b"),messageC:document.querySelector("#scroll-section-1 .main-message.c"),messageD:document.querySelector("#scroll-section-1 .main-message.d"),canvas:document.querySelector("#video-canvas-1"),context:document.querySelector("#video-canvas-1").getContext("2d"),ribbonPath:document.querySelector(".ribbon-path path"),stickyAll:document.querySelectorAll("#scroll-section-1 .sticky-elem"),svg:document.querySelector(".ribbon-path svg"),project_blend:document.querySelector(".project-blending"),myskill_wrap:document.querySelector(".myskill-wrap"),myskill:document.querySelectorAll(".myskill"),arrow1:document.querySelector(".arrow1"),arrow2:document.querySelector(".arrow2"),overprojectwrap:document.querySelector(".overprojectwrap"),bookwrap:document.querySelector(".bookwrap"),videoImagestest:[],videoImages:[]},values:{videoImageCounttest:280,imageSequencetest:[0,279],videoImageCount:960,imageSequence:[0,959],canvas_opacity_in:[0,1,{start:0,end:.07}],ribbon_dashoffset:[0,0,{start:.4,end:.6}],blend_scale:[1,.7,{start:0,end:0}],messageA_opacity_in:[0,1,{start:.1,end:.15}],messageB_opacity_in:[0,1,{start:.18,end:.23}],messageC_opacity_in:[0,1,{start:.26,end:.31}],messageD_opacity_in:[0,1,{start:.34,end:.39}],messageA_translateY_in:[20,1,{start:.1,end:.15}],messageB_translateY_in:[20,1,{start:.18,end:.23}],messageC_translateY_in:[20,1,{start:.26,end:.31}],messageD_translateY_in:[20,1,{start:.34,end:.39}],messageA_opacity_out:[1,0,{start:.15,end:.17}],messageB_opacity_out:[1,0,{start:.23,end:.25}],messageC_opacity_out:[1,0,{start:.31,end:.33}],messageD_opacity_out:[1,0,{start:.39,end:.42}],messageA_translateY_out:[0,-20,{start:.15,end:.17}],messageB_translateY_out:[0,-20,{start:.23,end:.25}],messageC_translateY_out:[0,-20,{start:.31,end:.33}],messageD_translateY_out:[0,-20,{start:.39,end:.42}],skill0:[0,1,{start:.542,end:.552}],skill1:[0,1,{start:.501,end:.511}],skill2:[0,1,{start:.47,end:.48}],skill3:[0,1,{start:.47,end:.48}],skill4:[0,1,{start:.537,end:.547}],skill5:[0,1,{start:.51,end:.52}],skill6:[0,1,{start:.46,end:.47}],mobile_skill0:[0,1,{start:.551,end:.561}],mobile_skill1:[0,1,{start:.478,end:.488}],mobile_skill2:[0,1,{start:.545,end:.555}],mobile_skill3:[0,1,{start:.472,end:.482}],mobile_skill4:[0,1,{start:.538,end:.548}],mobile_skill5:[0,1,{start:.465,end:.475}],mobile_skill6:[0,1,{start:.531,end:.541}]}}],c=[r[1].values.skill0,r[1].values.skill1,r[1].values.skill2,r[1].values.skill3,r[1].values.skill4,r[1].values.skill5,r[1].values.skill6],d=[r[1].values.mobile_skill0,r[1].values.mobile_skill1,r[1].values.mobile_skill2,r[1].values.mobile_skill3,r[1].values.mobile_skill4,r[1].values.mobile_skill5,r[1].values.mobile_skill6];function h(){for(var e=0;e<r.length;e++)"sticky"===r[e].type?r[e].scrollHeight=r[e].heightNum*window.innerHeight:"normal"===r[e].type&&(r[e].scrollHeight=r[e].objs.content.offsetHeight+.5*window.innerHeight),r[e].objs.container.style.height=r[e].scrollHeight+"px";r[1].objs.container.style.marginTop=r[0].scrollHeight+"px",s=window.pageYOffset;for(var t=0,n=0;n<r.length;n++)if((t+=r[n].scrollHeight)>=s){i=n;break}document.body.setAttribute("id","show-scene-".concat(i));var o,a=window.innerHeight/1080;r[1].objs.canvas.style.transform="translate3d(-50%, -50%, 0) scale(".concat(a,")"),r[1].objs.project_blend.style.marginTop="".concat(.6*r[1].scrollHeight+window.innerHeight,"px"),r[1].objs.arrow2.addEventListener("click",(function(){r[1].objs.overprojectwrap.style.transform="translateX(-50%)",r[1].objs.arrow2.style.display="none",r[1].objs.arrow1.style.display="block"})),r[1].objs.arrow1.addEventListener("click",(function(){r[1].objs.overprojectwrap.style.transform="translateX(0)",r[1].objs.arrow2.style.display="block",r[1].objs.arrow1.style.display="none"})),document.querySelector("#moveskill").style.top="".concat(.47*r[1].scrollHeight,"px"),window.innerWidth>=320&&window.innerWidth<=480?(o=(.7*window.innerWidth-.17*window.innerWidth*2)/4,r[1].objs.myskill[1].children[0].children[0].classList.replace("pin0","pin1"),r[1].objs.myskill[1].children[0].children[1].classList.replace("myskill_desc","myskill_desc1"),r[1].objs.myskill[2].children[0].children[0].classList.replace("pin1","pin0"),r[1].objs.myskill[2].children[0].children[1].classList.replace("myskill_desc1","myskill_desc"),r[1].objs.myskill[5].children[0].children[0].classList.replace("pin0","pin1"),r[1].objs.myskill[5].children[0].children[1].classList.replace("myskill_desc","myskill_desc1"),r[1].objs.myskill[6].children[0].children[0].classList.replace("pin1","pin0"),r[1].objs.myskill[6].children[0].children[1].classList.replace("myskill_desc1","myskill_desc"),r[1].objs.myskill[0].children[0].children[0].style.top="85%",r[1].objs.myskill[0].children[0].children[0].style.transform="rotate(-33deg)",r[1].objs.myskill[0].children[0].children[1].style.top="60%",r[1].objs.myskill[1].children[0].children[0].style.top="85%",r[1].objs.myskill[1].children[0].children[0].style.transform="rotate(33deg)",r[1].objs.myskill[1].children[0].children[1].style.top="60%"):o=(.35*window.innerWidth-.1*window.innerWidth*2)/4,document.querySelector(".myskill2").children[1].childNodes[1].style.marginLeft="".concat(o,"px")}function m(e,t){var s,n=r[i].scrollHeight,o=t/n;if(3===e.length){var a=e[2].start*n,l=e[2].end*n;t>=a&&t<=l?s=(t-a)/(l-a)*(e[1]-e[0])+e[0]:t<a?s=e[0]:t>l&&(s=e[1])}else s=o*(e[1]-e[0])+e[0];return s}function y(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=r[i].scrollHeight*s,a=Math.abs((t-r[i].scrollHeight*n)/(o-r[i].scrollHeight*n));return a*(e[1]-e[0])+e[0]}function g(e,t,s,n,i){e.style.left="".concat(t,"px"),e.style.top="".concat(s,"px"),e.style.transform="translate(".concat(n,"px,").concat(i,"px)")}function b(){var o=r[i].objs,a=r[i].values,h=s-n,b=r[i].scrollHeight,u=h/b;switch(console.log(u,t,"@@"),i){case 0:o.nav.children[0].children[1].classList.add("highlight"),o.nav.children[0].children[2].classList.remove("highlight"),u<=.65?(o.messageB.style.opacity=m(a.messageB_opacity_in,h),o.book.style.transform="translate(-50%, -50%) rotateX(".concat(m(a.book_rotate,h),"deg)"),o.svgtext.style.strokeDashoffset="".concat(m(a.hi_dashoffset,h),"%"),o.svgtext.style.strokeDasharray="".concat(m(a.hi_dasharray_100,h),"% ").concat(m(a.hi_dasharray_50,h),"%"),o.svgtext.style.strokeWidth=3,u<=.15?(o.svgtext.style.fill="rgba(255, 255, 255, 0)",o.svgtext.style.stroke="rgba(16, 152, 173, 0.5)"):(o.svgtext.style.fill="rgba(16, 152, 173, ".concat(m(a.hi_opacity,h),")"),o.svgtext.style.stroke="rgba(16, 152, 173, ".concat(m(a.hi_opacity_b,h),")"))):o.messageB.style.opacity=m(a.messageB_opacity_out,h),u<=.73&&(o.movebook.style.transform="translateY(".concat(m(a.book_translateY,h),"%)")),u>=.4&&u<=.72?(o.ribbonPath.style.display="block",o.ribbonPath.style.strokeDashoffset=m(a.path_dashoffset_in,h),function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=(r[i].objs,r[i].values,s-n),l=r[i].scrollHeight,c=a/l;c<=e[0]?g(t,.3*window.innerWidth,.3*window.innerHeight,y([0,.05*-window.innerWidth],a-l*o,.43,.4),y([0,.1*window.innerHeight],a-l*o,.43,.4)):c<=e[1]?g(t,.25*window.innerWidth,.4*window.innerHeight,y([0,.25*window.innerWidth],a-l*o,.49,.43),y([0,.1*-window.innerHeight],a-l*o,.49,.43)):c<=e[2]?g(t,.5*window.innerWidth,.3*window.innerHeight,y([0,.1*-window.innerWidth],a-l*o,.529,.49),y([0,.15*window.innerHeight],a-l*o,.529,.49)):c<=e[3]?g(t,.4*window.innerWidth,.45*window.innerHeight,y([0,.2*window.innerWidth],a-l*o,.587,.529),y([0,.15*-window.innerHeight],a-l*o,.587,.529)):c<=e[4]?g(t,.6*window.innerWidth,.3*window.innerHeight,y([0,.1*-window.innerWidth],a-l*o,.634,.587),y([0,.2*window.innerHeight],a-l*o,.634,.587)):c<=e[5]&&g(t,.5*window.innerWidth,.5*window.innerHeight,y([0,.25*window.innerWidth],a-l*o,.7,.634),y([0,.08*-window.innerHeight],a-l*o,.7,.634))}(l,o.testimg)):u<.4&&(o.ribbonPath.style.display="none",o.testimg.style.opacity=m(a.testimg_opacity,h),o.ribbonPath.style.strokeDashoffset=o.ribbonPath.getTotalLength(),g(o.testimg,.3*window.innerWidth,.3*window.innerHeight,0,0));break;case 1:if(o.bookwrap.classList.contains("afterscene0")||(o.bookwrap.classList.add("afterscene0"),r[0].objs.ribbonPath.style.strokeDashoffset=0,r[0].objs.testimg.style.opacity=1,g(r[0].objs.testimg,.75*window.innerWidth,.42*window.innerHeight,0,0)),a.blend_scale[2].start=(.6*b+window.innerHeight)/b,a.blend_scale[2].end=(.6*b+window.innerHeight)/b+.1,o.myskill_wrap.addEventListener("mouseover",(function(e){e.target.classList.contains("myskill")&&e.target.classList.add("visible")})),o.myskill_wrap.addEventListener("mouseout",(function(e){e.target.classList.contains("myskill")&&e.target.classList.remove("visible")})),u<=.6&&(t||(e=requestAnimationFrame(w),t=!0),o.canvas.style.opacity=m(a.canvas_opacity_in,h),r[0].objs.nav.children[0].children[1].classList.remove("highlight"),r[0].objs.nav.children[0].children[2].classList.add("highlight"),r[0].objs.nav.children[0].children[3].classList.remove("highlight")),u>=.4?(o.ribbonPath.style.display="block",o.ribbonPath.style.strokeDashoffset=m(a.ribbon_dashoffset,h),u>.45&&u<(.6*b+window.innerHeight)/b+.1&&(r[0].objs.nav.children[0].children[2].classList.remove("highlight"),r[0].objs.nav.children[0].children[3].classList.add("highlight"),r[0].objs.nav.children[0].children[4].classList.remove("highlight")),u>=(.6*b+window.innerHeight)/b+.1&&(r[0].objs.nav.children[0].children[3].classList.remove("highlight"),r[0].objs.nav.children[0].children[4].classList.add("highlight")),function(e,t,s,n){if(window.innerWidth>=320&&window.innerWidth<=480){var i=[1,3,5],o=[0,2,4,6];if(e>=.6)return void[].concat(i,o).map((function(e){t.myskill[e].style.opacity=1}));if(e<=.42)return void[].concat(i,o).map((function(e){t.myskill[e].style.opacity=0}));e<=.5?i.map((function(e){t.myskill[e].style.opacity=m(d[e],n)})):e<=.59&&o.map((function(e){t.myskill[e].style.opacity=m(d[e],n)}))}else{var a=[2,3,6],l=[0,1,4,5];if(e>=.6)return void[].concat(a,l).map((function(e){t.myskill[e].style.opacity=1}));if(e<=.42)return void[].concat(a,l).map((function(e){t.myskill[e].style.opacity=0}));e<=.488?a.map((function(e){t.myskill[e].style.opacity=m(c[e],n)})):e<=.59&&l.map((function(e){t.myskill[e].style.opacity=m(c[e],n)}))}}(u,o,0,h)):(o.ribbonPath.style.display="none",o.ribbonPath.style.strokeDashoffset=a.ribbon_dashoffset[0]),u<=.15?(o.messageA.style.opacity=m(a.messageA_opacity_in,h),o.messageA.style.transform="translate3d(0, ".concat(m(a.messageA_translateY_in,h),"%,0)")):(o.messageA.style.opacity=m(a.messageA_opacity_out,h),o.messageA.style.transform="translate3d(0, ".concat(m(a.messageA_translateY_out,h),"%,0)")),u<=.23?(o.messageB.style.opacity=m(a.messageB_opacity_in,h),o.messageB.style.transform="translate3d(0, ".concat(m(a.messageB_translateY_in,h),"%,0)")):(o.messageB.style.opacity=m(a.messageB_opacity_out,h),o.messageB.style.transform="translate3d(0, ".concat(m(a.messageB_translateY_out,h),"%,0)")),u<=.31?(o.messageC.style.opacity=m(a.messageC_opacity_in,h),o.messageC.style.transform="translate3d(0, ".concat(m(a.messageC_translateY_in,h),"%,0)")):(o.messageC.style.opacity=m(a.messageC_opacity_out,h),o.messageC.style.transform="translate3d(0, ".concat(m(a.messageC_translateY_out,h),"%,0)")),u<=.39?(o.messageD.style.opacity=m(a.messageD_opacity_in,h),o.messageD.style.transform="translate3d(0, ".concat(m(a.messageD_translateY_in,h),"%,0)")):(o.messageD.style.opacity=m(a.messageD_opacity_out,h),o.messageD.style.transform="translate3d(0, ".concat(m(a.messageD_translateY_out,h),"%,0)")),u>=(.6*b+window.innerHeight)/b){for(var p=0;p<o.stickyAll.length;p++)o.stickyAll[p].classList.add("blendsticky");o.myskill_wrap.classList.add("blendsticky"),o.project_blend.style.marginTop=0,o.project_blend.style.position="fixed",o.project_blend.style.top=0,o.project_blend.style.transform="scale(".concat(m(a.blend_scale,h),")")}else{for(var _=0;_<o.stickyAll.length;_++)o.stickyAll[_].classList.remove("blendsticky");o.myskill_wrap.classList.remove("blendsticky"),o.project_blend.style.transform="scale(1)",o.project_blend.style.marginTop="".concat(.6*r[1].scrollHeight+window.innerHeight,"px"),o.project_blend.style.position="static"}}}function u(){o=!1,n=0;for(var e=0;e<i;e++)n+=r[e].scrollHeight;if(a<n+r[i].scrollHeight&&document.body.classList.remove("scroll-effect-end"),s>n+r[i].scrollHeight&&(o=!0,i===r.length-1&&document.body.classList.add("scroll-effect-end"),i<r.length-1&&i++,document.body.setAttribute("id","show-scene-".concat(i))),s<n){if(o=!0,0===i)return;i--,document.body.setAttribute("id","show-scene-".concat(i))}o||b()}function p(){var e=window.innerWidth,t=window.innerHeight;function s(e){return Math.round(e)}r[0].objs.svg.setAttribute("viewBox","0 0 ".concat(window.innerWidth," ").concat(window.innerHeight)),r[1].objs.svg.setAttribute("viewBox","0 0 ".concat(window.innerWidth," ").concat(window.innerHeight)),r[0].objs.ribbonPath.setAttribute("d","M".concat(s(.3*e)," ").concat(s(.3*t)," L").concat(s(.25*e)," ").concat(s(.4*t)," L").concat(s(.5*e)," ").concat(s(.3*t)," L").concat(s(.4*e)," ").concat(s(.45*t)," L").concat(s(.6*e)," ").concat(s(.3*t)," L").concat(s(.5*e)," ").concat(s(.5*t)," L").concat(s(.75*e)," ").concat(s(.42*t)));var n=r[0].objs.ribbonPath.getTotalLength();r[0].values.path_dashoffset_in[0]=n,r[0].values.path_dashoffset_out[1]=-n,r[0].objs.testimg.style.left="".concat(.3*window.innerWidth,"px"),r[0].objs.testimg.style.top="".concat(.3*window.innerHeight,"px"),r[0].objs.ribbonPath.style.strokeDashoffset=n,r[0].objs.ribbonPath.style.strokeDasharray="".concat(n),r[1].objs.ribbonPath.setAttribute("d","M".concat(s(.95*e)," ").concat(.4*-t," V").concat(s(.95*t)," H").concat(s(.7*e)," V").concat(s(.05*t)," H").concat(s(.5*e)," V").concat(s(.95*t)," H").concat(s(.3*e)," V").concat(s(.05*t)," H").concat(s(.05*e)," V").concat(s(t)));var i=r[1].objs.ribbonPath.getTotalLength();r[1].values.ribbon_dashoffset[0]=i,r[1].values.ribbon_dashoffset[1]=0,r[1].objs.ribbonPath.style.strokeWidth=.3*e,r[1].objs.ribbonPath.style.strokeDasharray="".concat(i),r[1].objs.ribbonPath.style.strokeDashoffset=i}function w(){if(a+=.1*(s-a),!o&&1===i){var l=r[i].objs,c=r[i].values,d=a-n,h=Math.round(m(c.imageSequencetest,d)),y=Math.round(100*h/45);l.videoImagestest[y]&&l.context.drawImage(l.videoImagestest[y],0,0)}a<1&&u(),e=requestAnimationFrame(w),Math.abs(window.pageYOffset-a)<1&&(cancelAnimationFrame(e),t=!1)}window.addEventListener("load",(function(){var e;!function(){for(var e,t=0;t<r[1].values.videoImageCounttest;t++)(e=new Image).src="./testimages1/testimg".concat(t+1001,".jpg"),r[1].objs.videoImagestest.push(e)}(),"Internet Explorer"===(-1!=(e=navigator.userAgent.toLowerCase()).indexOf("chrome")?"Chrome":-1!=e.indexOf("opera")?"Opera":-1!=e.indexOf("staroffice")?"Star Office":-1!=e.indexOf("webtv")?"WebTV":-1!=e.indexOf("beonex")?"Beonex":-1!=e.indexOf("chimera")?"Chimera":-1!=e.indexOf("netpositive")?"NetPositive":-1!=e.indexOf("phoenix")?"Phoenix":-1!=e.indexOf("firefox")?"Firefox":-1!=e.indexOf("safari")?"Safari":-1!=e.indexOf("skipstone")?"SkipStone":"Netscape"==navigator.appName&&-1!=navigator.userAgent.search("Trident")||-1!=e.indexOf("msie")?"Internet Explorer":-1!=e.indexOf("netscape")?"Netscape":-1!=e.indexOf("mozilla/5.0")?"Mozilla":void 0)&&(r[0].objs.svg1.style.height="100vh",r[1].objs.svg.style.height="100vh"),document.body.classList.remove("before-load"),h(),p();var t=s,n=0;if(s>0)var i=setInterval((function(){window.scrollTo(0,t),t+=5,n>20&&clearInterval(i),n++}),20);b(),window.addEventListener("scroll",(function(){(s=window.pageYOffset)>r[0].scrollHeight-72?r[0].objs.nav.classList.add("pin"):r[0].objs.nav.classList.remove("pin"),s>44?document.body.classList.add("local-nav-sticky"):document.body.classList.remove("local-nav-sticky"),u()})),window.addEventListener("resize",(function(){window.innerWidth>900&&h(),p()})),window.addEventListener("orientationchange",(function(){setTimeout(h,500)})),0===s&&r[0].objs.nav.children[0].children[1].classList.add("highlight")}))}();